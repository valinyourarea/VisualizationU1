import React from 'react';
import { DatabaseIcon, FlowIcon, ChartIcon, UsersIcon } from '../../icons/Icons';

interface SidebarProps {
  activeTab: string;
  onTabChange: (tab: string) => void;
}

// MongoDB Icon Component
const MongoIcon: React.FC<{ size: number; className?: string }> = ({ size, className }) => (
  <svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor" className={className}>
    <path d="M17.18 9.518c-1.263-5.56-4.242-7.387-4.562-8.086C12.266.939 11.885 0 11.885 0c-.002.019-.004.031-.005.049v.013h-.001c-.002.015-.003.025-.004.039v.015h-.002c0 .01-.002.018-.002.026v.026h-.003c-.001.008-.001.018-.003.025v.021h-.002c0 .007 0 .015-.002.021v.02h-.002c0 .01-.001.022-.002.032v.002c-.003.017-.006.034-.009.05v.008h-.002c-.001.004-.003.008-.003.012v.017h-.003v.022h-.005v.018h-.005v.021h-.004v.019h-.004v.017h-.006v.014h-.004v.018h-.004v.014h-.005v.013H11.8v.015h-.004c-.001.001-.001.003-.001.004v.01h-.003c-.001.002-.001.004-.001.006v.006h-.002c-.001.003-.002.008-.002.01-.003.007-.007.014-.01.021v.002c-.002.002-.004.005-.005.007v.008h-.004v.008h-.005v.008h-.003v.01h-.006v.014h-.004v.004h-.004v.008h-.004v.011h-.004v.008h-.006v.011h-.004v.008h-.005v.008h-.003v.01h-.005v.008h-.004v.006h-.004v.008h-.006V.76h-.004v.006h-.005v.008h-.004v.011h-.005v.004h-.003v.008h-.006v.004h-.004v.01h-.004v.004h-.004v.008h-.005v.006h-.003v.007h-.006v.004h-.004v.006h-.005v.007h-.004v.004h-.004v.007h-.005v.004h-.004v.006h-.005v.004h-.004v.008h-.005v.004h-.004v.005h-.004v.003h-.004v.008h-.005v.003h-.004v.006h-.004v.004h-.005v.004h-.004v.004h-.004v.003h-.004v.003h-.004v.003h-.005v.003h-.003v.003h-.004v.004h-.005v.003h-.004v.003h-.004v.003h-.004v.002h-.004v.002h-.004v.003h-.004v.002h-.004v.002h-.004v.002h-.004v.002h-.004v.002h-.004V.78h-.004v.001h-.004v.002h-.005v.001h-.004v.002h-.004v.002h-.004v.002h-.004v.002h-.004v.001h-.004v.001h-.004v.002h-.004v.001h-.004v.002h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.005v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.005v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.004v.001h-.004c-.001 0-.001 0-.002.001h-.002l-.003.001h-.002l-.003.001h-.002l-.003.001h-.001l-.004.001h-.001l-.003.001h-.004h-.001l-.003.001h-.001l-.003.001h-.001l-.003.001h-.003H11.6l-.002.001h-.002l-.003.001h-.002c-.001 0-.001 0-.002.001h-.001c-.001 0-.002 0-.002.001h-.002l-.002.001h-.002l-.002.001h-.002l-.002.001h-.001l-.002.001h-.001l-.002.001h-.001l-.002.001h-.001l-.002.001h-.001l-.002.001h-.001c-.001.001-.002.001-.003.002-.001 0-.001.001-.002.001-.001 0-.001.001-.002.001-.001 0-.001.001-.002.001-.001 0-.001.001-.002.001-.001 0-.001.001-.002.001l-.001.001-.002.001-.001.001c-.001 0-.002.001-.003.001l-.001.001-.002.001-.001.001-.002.001-.001.001c-.001 0-.002.001-.003.002l-.001.001-.002.001c-.001.001-.002.001-.003.002l-.002.001-.002.001c-.001.001-.002.001-.003.002l-.001.001c-.001.001-.002.001-.003.002l-.002.001c-.001.001-.002.002-.003.002l-.001.001c-.001.001-.002.001-.003.002l-.001.001c-.001.001-.002.002-.003.002l-.001.001c-.001.001-.002.002-.003.003c-.001 0-.002.001-.002.001-.001.001-.002.002-.003.002-.001.001-.002.001-.002.002-.001.001-.002.001-.003.002-.001.001-.002.001-.002.002-.001.001-.002.002-.003.002-.001.001-.002.002-.003.002-.001.001-.002.002-.003.003l-.002.002c-.001.001-.002.002-.003.002-.001.001-.002.002-.003.003-.001.001-.002.002-.003.003-.001.001-.002.002-.003.003-.001.001-.002.002-.003.003l-.002.002c-.001.001-.002.002-.003.003-.001.001-.002.002-.003.003l-.002.003c-.001.001-.002.002-.003.003l-.002.003-.003.003-.002.003c-.001.001-.002.002-.003.003l-.002.003c-.001.001-.002.002-.003.004l-.002.003c-.001.001-.002.002-.003.004l-.002.003c-.001.001-.002.003-.003.004l-.002.003-.003.004-.002.003c-.001.002-.002.003-.003.004l-.002.003-.003.004-.002.004-.003.004-.002.003c-.001.002-.002.003-.003.005l-.002.003c-.001.002-.002.003-.003.005l-.002.004-.003.004c-.001.002-.001.003-.002.004-.001.002-.002.003-.003.005l-.002.004c-.001.002-.002.003-.003.005l-.002.004c-.001.002-.002.004-.003.005l-.001.004c-.001.002-.002.004-.003.006l-.002.004c-.001.002-.002.004-.003.006l-.001.004c-.001.002-.002.004-.003.006l-.002.005c-.001.002-.002.004-.003.006l-.001.005c-.001.002-.002.004-.003.006l-.001.005c-.001.002-.002.004-.003.007l-.001.005c-.001.002-.002.004-.003.007l-.001.004c-.001.003-.002.005-.003.007l-.001.005c-.001.003-.002.005-.003.007l-.001.005c-.001.003-.002.005-.003.008l-.001.005c-.001.003-.002.005-.003.008l-.001.005c-.001.003-.002.005-.003.008l-.001.005c-.001.003-.001.005-.002.008-.001.002-.001.004-.002.006-.001.003-.002.005-.003.008l-.001.006c-.001.003-.001.005-.002.008l-.001.005c-.001.003-.002.006-.003.009l-.001.005c-.001.003-.001.006-.002.009l-.001.006c-.001.003-.001.006-.002.009l-.001.006c-.001.003-.001.006-.002.009l-.001.006c-.001.003-.001.006-.002.009l-.001.006c-.001.003-.001.006-.002.01-.001.003-.001.006-.002.009l-.001.007c-.001.004-.001.007-.002.011l-.001.007c-.001.004-.001.007-.002.011l-.001.007c-.001.004-.001.007-.002.011l-.001.007c-.001.004-.001.007-.002.011l-.001.007c-.001.004-.001.007-.002.011l-.001.007c-.001.004-.001.007-.002.011l-.001.008c-.001.004-.001.007-.002.011l-.001.008-.001.012-.001.01c-.001.004-.001.009-.001.013v.001c-.002.015-.003.029-.004.043l-.001.011c-.001.01-.001.021-.001.032v.001c-.001.023-.002.045-.002.068v.016c0 .021-.001.042-.001.063V1h.001v.059h-.001v.014h-.001v.047h-.001v.014h-.001v.045h-.001v.015h-.001v.044h-.001v.014h-.001v.043h-.001v.015h-.001v.042h-.001v.015h-.001v.041h-.001v.015h-.001v.041h-.001v.015h-.001v.04h-.001v.015h-.001v.039h-.001v.015h-.001v.039h-.001v.016h-.001v.038h-.001v.015h-.001v.038h-.001v.015h-.001v.038h-.001v.016h-.001v.036h-.001v.016h-.001v.036h-.001v.016h-.001v.036h-.001v.016h-.001v.035h-.001v.016h-.001v.035h-.001v.016h-.001v.034h-.001v.016h-.001v.034h-.001v.016h-.001v.034h-.001v.016h-.001v.033h-.001v.016h-.001v.033h-.001v.016h-.001v.032h-.001v.017h-.001v.032h-.001v.016h-.001v.031h-.001v.016h-.001v.031h-.001v.017h-.001v.03h-.001v.017h-.001v.03h-.001v.017h-.001v.03h-.001v.017h-.001v.029h-.001v.017h-.001v.029h-.001v.017h-.001v.029h-.001v.017h-.001v.028h-.001v.017h-.001v.028h-.001v.017h-.001v.027h-.001v.017h-.001v.027h-.001v.018h-.001v.026h-.001v.018h-.001v.026h-.001v.018h-.001v.026h-.001v.017h-.001v.026h-.001v.018h-.001v.025h-.001v.018h-.001v.025h-.001v.018h-.001v.024h-.001v.018h-.001v.024h-.001v.018h-.001v.024h-.001v.018h-.001v.023h-.001v.019h-.001v.023h-.001v.018h-.001v.023h-.001v.019h-.001v.022h-.001v.019h-.001v.022h-.001v.018h-.001v.022h-.001v.019h-.001v.021h-.001v.019h-.001v.021h-.001v.019h-.001v.021h-.001v.019h-.001v.02h-.001v.02h-.001v.02h-.001v.019h-.001v.02h-.001v.019h-.001v.019h-.001v.02h-.001v.019h-.001v.019h-.001v.019h-.001v.02h-.001v.018h-.001v.019h-.001v.019h-.001v.019h-.001v.018h-.001v.019h-.001v.019h-.001v.019h-.001v.018h-.001v.019h-.001v.018h-.001v.019h-.001v.018h-.001v.018h-.001v.019h-.001v.018h-.001v.018h-.001v.018h-.001v.018h-.001v.018h-.001v.018h-.001v.018h-.001v.017h-.001v.018h-.001v.018h-.001v.017h-.001v.018h-.001v.017h-.001v.017h-.001v.018h-.001v.017h-.001v.017h-.001v.017h-.001v.017h-.001v.017h-.001v.017h-.001v.017h-.001v.017h-.001v.016h-.001v.017h-.001v.016h-.001v.017h-.001v.016h-.001v.016h-.001v.016h-.001v.017h-.001v.016h-.001v.016h-.001v.016h-.001v.015h-.001v.016h-.001v.016h-.001v.015h-.001v.016h-.001v.015h-.001v.015h-.001v.016h-.001v.015h-.001v.015h-.001v.015h-.001v.015h-.001v.015h-.001v.014h-.001v.015h-.001v.015h-.001v.014h-.001v.015h-.001v.014h-.001v.014h-.001v.014h-.001v.015h-.001v.014h-.001v.014h-.001v.013h-.001v.014h-.001v.014h-.001v.013h-.001v.014h-.001v.013h-.001v.014h-.001v.013h-.001v.013h-.001v.013h-.001v.014h-.001v.013h-.001v.012h-.001v.013h-.001v.013h-.001v.013h-.001v.012h-.001v.013h-.001v.012h-.001v.013h-.001v.012h-.001v.012h-.001v.012h-.001v.012h-.001v.012h-.001v.012h-.001v.012h-.001v.012h-.001v.011h-.001v.012h-.001v.012h-.001v.011h-.001v.012h-.001v.011h-.001v.011h-.001v.012h-.001v.011h-.001v.011h-.001v.011h-.001v.011h-.001v.01h-.001v.011h-.001v.011h-.001v.01h-.001v.011h-.001v.01h-.001v.011h-.001v.01h-.001v.01h-.001v.011h-.001v.01h-.001v.01h-.001v.01h-.001v.01h-.001v.01h-.001v.009h-.001v.01h-.001v.01h-.001v.009h-.001v.01h-.001v.009h-.001v.009h-.001v.01h-.001v.009h-.001v.009h-.001v.009h-.001v.009h-.001v.009h-.001v.009h-.001v.009h-.001v.008h-.001v.009h-.001v.008h-.001v.009h-.001v.008h-.001v.009h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.008h-.001v.007h-.001v.008h-.001v.007h-.001v.008h-.001v.007h-.001v.008h-.001v.007h-.001v.007h-.001v.007h-.001v.008h-.001v.007h-.001v.007h-.001v.007h-.001v.007h-.001v.006h-.001v.007h-.001v.007h-.001v.007h-.001v.006h-.001v.007h-.001v.006h-.001v.007h-.001v.006h-.001v.006h-.001v.007h-.001v.006h-.001v.006h-.001v.006h-.001v.006h-.001v.006h-.001v.006h-.001v.006h-.001v.005h-.001v.006h-.001v.005h-.001v.006h-.001v.005h-.001v.006h-.001v.005h-.001v.005h-.001v.006h-.001v.005h-.001v.005h-.001v.005h-.001v.005h-.001v.005h-.001v.005h-.001v.005h-.001v.004h-.001v.005h-.001v.005h-.001v.004h-.001v.005h-.001v.004h-.001v.005h-.001v.004h-.001v.004h-.001v.004h-.001v.005h-.001v.004h-.001v.004h-.001v.004h-.001v.004h-.001v.004h-.001v.003h-.001v.004h-.001v.004h-.001v.003h-.001v.004h-.001v.003h-.001v.004h-.001v.003h-.001v.004h-.001v.003h-.001v.003h-.001v.003h-.001v.003h-.001v.003h-.001v.003h-.001v.003h-.001v.003h-.001v.002h-.001v.003h-.001v.003h-.001v.002h-.001v.003h-.001v.002h-.001v.003h-.001v.002h-.001v.002h-.001v.003h-.001v.002h-.001v.002h-.001v.002h-.001v.002h-.001v.002h-.001v.002h-.001v.002h-.001v.001h-.001v.002h-.001v.002h-.001v.001h-.001v.002h-.001v.001h-.001v.002h-.001v.001h-.001v.002h-.001v.001h-.001v.001h-.001v.001h-.001v.002h-.001v.001h-.001v.001h-.001v.001h-.001v.001h-.001v.001h-.001l.001.001v.001h-.001v.001h-.001l.001.001v.001h-.001l.001.001v.001h-.001l.001.001-.001.001.001.001-.001.001.001.001-.001.001.001.001-.001.001.001.001-.001.001.001.001c-.028.031-.062.062-.09.091-.006.005-.01.01-.015.016l-.002.002-.046.048-.011.01-.027.026-.014.014-.021.02-.019.018-.015.015-.024.022-.009.009-.033.029-.002.002c-.075.064-.154.127-.238.19l-.015.011c-.016.012-.032.024-.048.035l-.015.011-.05.035-.012.008c-.108.074-.221.147-.338.219-.001.001-.003.002-.004.002-11.35 6.961-12.832 16.689-12.916 21.193-.002.081-.003.162-.004.242a35.392 35.392 0 00-.003.831v.126c0 .218.002.435.005.651.001.152.004.303.006.454.007.413.018.823.033 1.231.009.25.021.498.034.746.007.128.014.256.022.384v.001c.392 5.32 1.655 9.913 3.516 11.83a2.79 2.79 0 01-.505 1.217s.801-.13 1.562-.803a10.937 10.937 0 001.036-1.608c.027-.042.053-.086.08-.128a16.24 16.24 0 001.078-2.048c.223-.507.441-1.06.646-1.647.512-1.438.949-3.074 1.225-4.784a35.563 35.563 0 00.303-2.563c.031-.332.057-.665.08-.999v-.001a55.649 55.649 0 00.078-1.693c.008-.232.015-.463.019-.695a58.867 58.867 0 00.011-1.371 58.239 58.239 0 00-.007-1.001 55.307 55.307 0 00-.023-1.03 49.273 49.273 0 00-.045-1.032 42.949 42.949 0 00-.069-1.038 37.4 37.4 0 00-.093-1.047 31.994 31.994 0 00-.123-1.055 27.125 27.125 0 00-.159-1.063 22.93 22.93 0 00-.203-1.07c.09-.302.246-.607.463-.914.828-1.155 2.572-1.915 4.05-1.915.296 0 .576.03.837.087 1.939.44 2.745 2.094 3.288 3.794 1.002 3.165 1.055 6.88 1.055 10.181z"/>
  </svg>
);

export const Sidebar: React.FC<SidebarProps> = ({ activeTab, onTabChange }) => {
  const menuItems = [
    { id: 'etl', label: 'ETL Pipeline', icon: FlowIcon },
    { id: 'analytics', label: 'Analytics', icon: ChartIcon },
    { id: 'database', label: 'MySQL', icon: DatabaseIcon },
    { id: 'mongodb', label: 'MongoDB', icon: MongoIcon },
    { id: 'users', label: 'Users', icon: UsersIcon },
  ];

  return (
    <aside className="w-64 h-screen bg-white border-r border-gray-200 flex flex-col">
      {/* Logo */}
      <div className="p-6 border-b border-gray-200">
        <div className="flex items-center space-x-3">
          <div className="w-10 h-10 bg-black rounded-lg flex items-center justify-center">
            <DatabaseIcon size={20} className="text-white" />
          </div>
          <div>
            <h2 className="font-bold text-gray-900 leading-tight">Streaming ETL</h2>
            <p className="text-xs text-gray-500">Data Pipeline</p>
          </div>
        </div>
      </div>

      {/* Navigation */}
      <nav className="p-4 space-y-1">
        {menuItems.map((item) => {
          const Icon = item.icon;
          const isActive = activeTab === item.id;

          return (
            <button
              key={item.id}
              onClick={() => onTabChange(item.id)}
              className={[
                'w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors',
                isActive ? 'bg-black text-white' : 'text-gray-700 hover:bg-gray-100',
              ].join(' ')}
            >
              <Icon size={20} />
              <span className="font-medium">{item.label}</span>
            </button>
          );
        })}
      </nav>

      {/* Status Section */}
      <div className="mt-auto p-4 border-t border-gray-200">
        <div className="space-y-2">
          <div className="bg-gray-50 rounded-lg p-3">
            <div className="flex items-center justify-between mb-1">
              <span className="text-xs font-medium text-gray-700">MySQL</span>
              <div className="w-2 h-2 bg-green-500 rounded-full" />
            </div>
            <p className="text-xs text-gray-500">streaming_db</p>
          </div>
          <div className="bg-gray-50 rounded-lg p-3">
            <div className="flex items-center justify-between mb-1">
              <span className="text-xs font-medium text-gray-700">MongoDB</span>
              <div className="w-2 h-2 bg-green-500 rounded-full" />
            </div>
            <p className="text-xs text-gray-500">streaming_nosql</p>
          </div>
        </div>
      </div>
    </aside>
  );
};
