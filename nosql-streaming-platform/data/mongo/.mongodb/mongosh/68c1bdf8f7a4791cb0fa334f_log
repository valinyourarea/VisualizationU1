{"t":{"$date":"2025-09-10T18:05:44.533Z"},"s":"E","c":"MONGOSH","id":1000000006,"ctx":"telemetry","msg":"Error: Failed to resolve machine ID","attr":{"stack":"Error: Failed to resolve machine ID\n    at i (eval at module.exports (node:lib-boxednode/mongosh:103:20), <anonymous>:341:196310)\n    at async LoggingAndTelemetry.setupTelemetry (eval at module.exports (node:lib-boxednode/mongosh:103:20), <anonymous>:341:303300)","name":"Error","message":"Failed to resolve machine ID","code":null}}
{"t":{"$date":"2025-09-10T18:05:44.577Z"},"s":"I","c":"MONGOSH","id":1000000005,"ctx":"config","msg":"User updated"}
{"t":{"$date":"2025-09-10T18:05:44.578Z"},"s":"I","c":"MONGOSH","id":1000000048,"ctx":"config","msg":"Loading global configuration file","attr":{"filename":"/etc/mongosh.conf","found":false}}
{"t":{"$date":"2025-09-10T18:05:44.579Z"},"s":"I","c":"MONGOSH","id":1000000000,"ctx":"log","msg":"Starting log","attr":{"execPath":"/usr/bin/mongosh","envInfo":{"EDITOR":null,"NODE_OPTIONS":null,"TERM":null},"version":"2.5.7","distributionKind":"compiled","buildArch":"x64","buildPlatform":"linux","buildTarget":"linux-x64","buildTime":"2025-08-26T09:49:57.472Z","gitVersion":"0562e486d14d421745d5568693978231c9cac8e0","nodeVersion":"v20.19.4","opensslVersion":"3.0.15+quic","sharedOpenssl":false,"runtimeArch":"x64","runtimePlatform":"linux","runtimeGlibcVersion":"2.35","deps":{"nodeDriverVersion":"6.18.0","libmongocryptVersion":"1.13.0","libmongocryptNodeBindingsVersion":"6.3.0","kerberosVersion":"2.1.0"}}}
{"t":{"$date":"2025-09-10T18:05:44.674Z"},"s":"I","c":"DEVTOOLS-CONNECT","id":1000000049,"ctx":"mongosh-connect","msg":"Loaded system CA list","attr":{"caCount":296,"asyncFallbackError":null,"systemCertsError":null,"messages":[]}}
{"t":{"$date":"2025-09-10T18:05:44.695Z"},"s":"I","c":"DEVTOOLS-CONNECT","id":1000000042,"ctx":"mongosh-connect","msg":"Initiating connection attempt","attr":{"uri":"mongodb://127.0.0.1:27017/test?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.5.7","driver":{"name":"nodejs|mongosh","version":"6.18.0|2.5.7"},"devtoolsConnectVersion":"3.9.3","host":"127.0.0.1:27017"}}
{"t":{"$date":"2025-09-10T18:05:44.702Z"},"s":"I","c":"DEVTOOLS-CONNECT","id":1000000035,"ctx":"mongosh-connect","msg":"Server heartbeat succeeded","attr":{"connectionId":"127.0.0.1:27017"}}
{"t":{"$date":"2025-09-10T18:05:44.736Z"},"s":"I","c":"DEVTOOLS-CONNECT","id":1000000037,"ctx":"mongosh-connect","msg":"Connection attempt finished"}
{"t":{"$date":"2025-09-10T18:05:44.738Z"},"s":"I","c":"MONGOSH","id":1000000010,"ctx":"shell-api","msg":"Initialized context","attr":{"method":"setCtx","arguments":{}}}
{"t":{"$date":"2025-09-10T18:05:44.741Z"},"s":"I","c":"MONGOSH-SNIPPETS","id":1000000019,"ctx":"snippets","msg":"Loaded snippets","attr":{"installdir":"/data/db/.mongodb/mongosh/snippets"}}
{"t":{"$date":"2025-09-10T18:05:44.815Z"},"s":"I","c":"MONGOSH","id":1000000003,"ctx":"repl","msg":"Start loading CLI scripts"}
{"t":{"$date":"2025-09-10T18:05:44.820Z"},"s":"I","c":"MONGOSH","id":1000000012,"ctx":"shell-api","msg":"Loading file via load()","attr":{"nested":false,"filename":"/docker-entrypoint-initdb.d/mongodb_setup.js"}}
{"t":{"$date":"2025-09-10T18:05:44.824Z"},"s":"I","c":"MONGOSH","id":1000000007,"ctx":"repl","msg":"Evaluating input","attr":{"input":"// Forzar a usar la base de datos streaming_platform\r\ndb = db.getSiblingDB(\"streaming_platform\");\r\n\r\n// =============================\r\n// USERS\r\n// =============================\r\ndb.createCollection(\"users\");\r\ndb.users.insertMany([\r\n  {\r\n    user_id: \"U001\",\r\n    age: 25,\r\n    country: \"Mexico\",\r\n    subscription_type: \"Premium\",\r\n    registration_date: new Date(\"2023-01-15\"),\r\n    total_watch_time_hours: 245.5,\r\n    status: \"Active\"\r\n  },\r\n  {\r\n    user_id: \"U002\",\r\n    age: 34,\r\n    country: \"Colombia\",\r\n    subscription_type: \"Basic\",\r\n    registration_date: new Date(\"2023-02-20\"),\r\n    total_watch_time_hours: 156.2,\r\n    status: \"Active\"\r\n  },\r\n  {\r\n    user_id: \"U003\",\r\n    age: 28,\r\n    country: \"Argentina\",\r\n    subscription_type: \"Premium\",\r\n    registration_date: new Date(\"2023-01-22\"),\r\n    total_watch_time_hours: 189.7,\r\n    status: \"Active\"\r\n  },\r\n  {\r\n    user_id: \"U004\",\r\n    age: 45,\r\n    country: \"Chile\",\r\n    subscription_type: \"Basic\",\r\n    registration_date: new Date(\"2023-03-01\"),\r\n    total_watch_time_hours: 98.3,\r\n    status: \"Active\"\r\n  },\r\n  {\r\n    user_id: \"U005\",\r\n    age: 32,\r\n    country: \"Peru\",\r\n    subscription_type: \"Standard\",\r\n    registration_date: new Date(\"2023-02-14\"),\r\n    total_watch_time_hours: 167.9,\r\n    status: \"Active\"\r\n  }\r\n]);\r\n\r\n// =============================\r\n// CONTENT\r\n// =============================\r\ndb.createCollection(\"content\");\r\ndb.content.insertMany([\r\n  {\r\n    content_id: \"M001\",\r\n    title: \"Data Adventures\",\r\n    content_type: \"Movie\",\r\n    genres: [\"Action\", \"Sci-Fi\"],\r\n    release_year: 2023,\r\n    rating: 4.2,\r\n    production_budget: 50000000,\r\n    metrics: { views_count: 15420, total_watch_time_hours: 30840 }\r\n  },\r\n  {\r\n    content_id: \"M002\",\r\n    title: \"Analytics Kingdom\",\r\n    content_type: \"Movie\",\r\n    genres: [\"Fantasy\", \"Adventure\"],\r\n    release_year: 2024,\r\n    rating: 4.5,\r\n    production_budget: 35000000,\r\n    metrics: { views_count: 23150, total_watch_time_hours: 37840 }\r\n  },\r\n  {\r\n    content_id: \"S001\",\r\n    title: \"Analytics Chronicles\",\r\n    content_type: \"Series\",\r\n    genres: [\"Drama\", \"Technology\"],\r\n    seasons: 3,\r\n    episodes_per_season: [10, 12, 8],\r\n    avg_episode_duration: 45,\r\n    rating: 4.7,\r\n    production_budget: 120000000,\r\n    metrics: { total_views: 89650 }\r\n  },\r\n  {\r\n    content_id: \"S002\",\r\n    title: \"Data Detectives\",\r\n    content_type: \"Series\",\r\n    genres: [\"Crime\", \"Mystery\"],\r\n    seasons: 2,\r\n    episodes_per_season: [8, 10],\r\n    avg_episode_duration: 52,\r\n    rating: 4.3,\r\n    production_budget: 85000000,\r\n    metrics: { total_views: 67420 }\r\n  }\r\n]);\r\n\r\n// =============================\r\n// VIEWING_SESSIONS\r\n// =============================\r\ndb.createCollection(\"viewing_sessions\");\r\ndb.viewing_sessions.insertMany([\r\n  {\r\n    session_id: \"S001\",\r\n    user_id: \"U001\",\r\n    content_id: \"M001\",\r\n    watch_date: new Date(\"2024-03-15\"),\r\n    watch_duration_minutes: 118,\r\n    completion_percentage: 98.3,\r\n    device_type: \"Smart TV\",\r\n    quality_level: \"4K\"\r\n  },\r\n  {\r\n    session_id: \"S002\",\r\n    user_id: \"U002\",\r\n    content_id: \"S001\",\r\n    watch_date: new Date(\"2024-03-15\"),\r\n    watch_duration_minutes: 42,\r\n    completion_percentage: 93.3,\r\n    device_type: \"Mobile\",\r\n    quality_level: \"HD\"\r\n  },\r\n  {\r\n    session_id: \"S003\",\r\n    user_id: \"U003\",\r\n    content_id: \"M002\",\r\n    watch_date: new Date(\"2024-03-16\"),\r\n    watch_duration_minutes: 95,\r\n    completion_percentage: 96.9,\r\n    device_type: \"Tablet\",\r\n    quality_level: \"HD\"\r\n  },\r\n  {\r\n    session_id: \"S004\",\r\n    user_id: \"U001\",\r\n    content_id: \"S002\",\r\n    watch_date: new Date(\"2024-03-16\"),\r\n    watch_duration_minutes: 156,\r\n    completion_percentage: 100,\r\n    device_type: \"Smart TV\",\r\n    quality_level: \"4K\"\r\n  },\r\n  {\r\n    session_id: \"S005\",\r\n    user_id: \"U004\",\r\n    content_id: \"M001\",\r\n    watch_date: new Date(\"2024-03-17\"),\r\n    watch_duration_minutes: 85,\r\n    completion_percentage: 70.8,\r\n    device_type: \"Mobile\",\r\n    quality_level: \"SD\"\r\n  }\r\n]);"}}
{"t":{"$date":"2025-09-10T18:05:44.826Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"getSiblingDB","class":"Database","db":"test","arguments":{"db":"streaming_platform"}}}
{"t":{"$date":"2025-09-10T18:05:44.827Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"createCollection","class":"Database","db":"streaming_platform","arguments":{"name":"users","options":{}}}}
{"t":{"$date":"2025-09-10T18:05:44.828Z"},"s":"I","c":"MONGOSH","id":1000000004,"ctx":"connect","msg":"Connecting to server","attr":{"userId":null,"telemetryAnonymousId":"68c1bdf62050f8cc30fa334e","connectionUri":"mongodb://<ip address>:27017/test?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.5.7","is_localhost":true,"is_do_url":false,"is_atlas_url":false,"is_atlas":false,"server_version":"6.0.26","node_version":"v20.19.4","server_os":"linux","server_arch":"x86_64","is_enterprise":false,"auth_type":null,"is_data_federation":false,"is_stream":false,"dl_version":null,"atlas_version":null,"is_genuine":true,"non_genuine_server_name":"mongodb","is_local_atlas":false,"fcv":"6.0","api_version":null,"api_strict":null,"api_deprecation_errors":null,"atlas_hostname":null}}
{"t":{"$date":"2025-09-10T18:05:44.864Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"insertMany","class":"Collection","db":"streaming_platform","coll":"users","arguments":{"options":{}}}}
{"t":{"$date":"2025-09-10T18:05:44.870Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"createCollection","class":"Database","db":"streaming_platform","arguments":{"name":"content","options":{}}}}
{"t":{"$date":"2025-09-10T18:05:44.994Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"insertMany","class":"Collection","db":"streaming_platform","coll":"content","arguments":{"options":{}}}}
{"t":{"$date":"2025-09-10T18:05:45.002Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"createCollection","class":"Database","db":"streaming_platform","arguments":{"name":"viewing_sessions","options":{}}}}
{"t":{"$date":"2025-09-10T18:05:45.061Z"},"s":"I","c":"MONGOSH","id":1000000011,"ctx":"shell-api","msg":"Performed API call","attr":{"method":"insertMany","class":"Collection","db":"streaming_platform","coll":"viewing_sessions","arguments":{"options":{}}}}
{"t":{"$date":"2025-09-10T18:05:45.066Z"},"s":"I","c":"MONGOSH","id":1000000045,"ctx":"analytics","msg":"Flushed outstanding data","attr":{"flushError":"Trying to persist throttle state before userId is set","flushDuration":0}}
